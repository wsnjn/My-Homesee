/* pages/house-tour/house-tour.wxss */
/* 工业极简风格 - 分屏布局 */

page {
  background: #000000;
  height: 100vh;
  overflow: hidden;
  display: flex;
  flex-direction: column;
}

.page-container {
  width: 100%;
  height: 100vh;
  display: flex;
  flex-direction: column;
}

/* === 上部分：VR容器 (85%) === */
.vr-container {
  flex: 85; 
  position: relative;
  width: 100%;
  background: #000000;
  overflow: hidden;
}

.vr-canvas {
  width: 100%;
  height: 100%;
  display: block;
}

/* 悬浮UI层 */
.float-ui {
  position: absolute;
  top: 0; left: 0; right: 0; bottom: 0;
  pointer-events: none; /* 让事件穿透到canvas */
  z-index: 9999;
}

.scene-info {
  position: absolute;
  top: 40rpx; left: 40rpx;
  background: rgba(17, 24, 39, 0.8);
  padding: 12rpx 24rpx;
  border: 1px solid rgba(255, 255, 255, 0.2);
}
.scene-info-text {
  color: #FFFFFF;
  font-size: 26rpx;
  font-weight: 600;
}

/* 聊天气泡漂浮层 */
.chat-bubbles-container {
  position: absolute;
  bottom: 20rpx; 
  left: 20rpx; 
  right: 20rpx;
  height: 400rpx; /* 占据一定高度 */
  display: flex;
  flex-direction: column;
  justify-content: flex-end;
  pointer-events: none;
}

.chat-scroll-view {
  display: flex;
  flex-direction: column;
  justify-content: flex-end;
}

.message {
  margin-bottom: 16rpx;
  display: flex; 
  flex-direction: row;
}
.message.user { justify-content: flex-end; }
.message.assistant { justify-content: flex-start; }

/* 气泡样式 - 使用 cover-view */
.bubble {
  background: rgba(255, 255, 255, 0.9);
  color: #111827;
  padding: 12rpx 24rpx;
  border-radius: 4rpx;
  font-size: 26rpx;
  max-width: 600rpx;
  white-space: pre-wrap; /* Support newlines */
  /* box-shadow not supported in cover-view, use border */
  border: 1px solid #E5E7EB;
}
.message.user .bubble {
  background: rgba(17, 24, 39, 0.9);
  color: #FFFFFF;
  border-color: #374151;
}

/* 状态提示 */
.status-overlay {
  position: absolute;
  top: 50%; left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
}
.status-text { color: #FFFFFF; font-size: 28rpx; margin-bottom: 20rpx; }
.status-text.error { color: #FF6B6B; }
.retry-btn { font-size: 24rpx; padding: 10rpx 30rpx; }


/* === 下部分：操作栏 (15%) === */
.bottom-dock {
  flex: 15; /* 15% height */
  background: #111827; /* 深色底 */
  border-top: 1px solid #374151;
  width: 100%;
  position: relative;
  z-index: 20; /* 确保在 Canvas 之上 (虽然布局分离，还是加个保险) */
  display: flex;
  flex-direction: column;
  justify-content: center;
}

/* 1. 默认状态 */
.dock-default {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 0 40rpx;
  height: 100%;
}

.dock-btn {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8rpx;
  color: #FFFFFF;
  font-size: 20rpx; /* Smaller font for text below icon */
  opacity: 0.9;
}
.dock-btn:active { opacity: 0.6; }

/* .btn-icon removed as we use svg-icon component directly */

.dock-info { flex: 1; text-align: center; }
.dock-tips { color: #9CA3AF; font-size: 24rpx; }


/* 2. 场景选择模式 */
.dock-scenes {
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;
}
.dock-header {
  padding: 10rpx 20rpx;
  display: flex;
  justify-content: space-between;
  align-items: center;
  color: #FFFFFF;
  font-size: 24rpx;
  background: #1F2937;
}
.close-btn {
  padding: 0 20rpx; 
  font-size: 32rpx; 
  color: #9CA3AF;
}

.scene-scroller {
  flex: 1;
  white-space: nowrap;
  width: 100%;
  padding: 10rpx 0;
}
.scene-track {
  display: inline-flex;
  padding: 0 20rpx;
  align-items: center;
  height: 100%;
}
.dock-scene-item {
  display: inline-flex;
  flex-direction: column;
  align-items: center;
  margin-right: 20rpx;
  opacity: 0.6;
  transition: all 0.2s;
}
.dock-scene-item.active { opacity: 1; transform: scale(1.05); }

.dock-thumb {
  width: 80rpx; height: 80rpx;
  border: 1px solid #4B5563;
  margin-bottom: 8rpx;
}
.dock-scene-item.active .dock-thumb { border-color: #FFFFFF; }

.dock-scene-title {
  font-size: 20rpx; color: #FFFFFF;
}


/* 3. AI助手 (输入) */
.dock-chat {
  width: 100%; 
  height: 100%;
  display: flex; 
  align-items: center; 
  padding: 0 20rpx;
}

.chat-input-row {
  flex: 1;
  display: flex;
  align-items: center;
  gap: 16rpx;
  background: #1F2937;
  padding: 12rpx;
  border: 1px solid #374151;
}

.close-btn.mini {
  color: #9CA3AF;
  font-size: 32rpx;
  padding: 0 10rpx;
}

.dock-input {
  flex: 1;
  height: 60rpx;
  color: #FFFFFF;
  font-size: 26rpx;
}

.send-btn {
  background: #FFFFFF;
  color: #111827;
  padding: 10rpx 24rpx;
  font-size: 24rpx;
  font-weight: 600;
}
.send-btn.disabled {
  background: #4B5563;
  color: #9CA3AF;
}
