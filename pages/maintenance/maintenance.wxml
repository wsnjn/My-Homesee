<!--pages/maintenance/maintenance.wxml-->
<view class="maintenance-container">
  <view class="header">
    <text class="title">我的维修申请</text>
    <view class="add-btn" bindtap="handleCreate">
      <text>+ 新申请</text>
    </view>
  </view>

  <scroll-view scroll-y class="request-list">
    <view class="request-item" wx:for="{{requests}}" wx:key="id" bindtap="viewDetail" data-id="{{item.id}}">
      <view class="item-header">
        <text class="item-title">{{item.title || '维修申请'}}</text>
        <view class="status-badge" style="background-color: {{item.statusColor}}">
          {{item.statusText}}
        </view>
      </view>
      
      <view class="item-content">
        <text class="description">{{item.description}}</text>
      </view>

      <view class="item-footer">
        <text class="time">提交时间: {{item.formattedTime}}</text>
        <text class="arrow">></text>
      </view>
    </view>

    <view class="empty-state" wx:if="{{!loading && requests.length === 0}}">
      <image class="empty-icon" src="/images/empty-maintenance.png" mode="aspectFit"></image>
      <text>暂无维修记录</text>
    </view>
  </scroll-view>
</view>